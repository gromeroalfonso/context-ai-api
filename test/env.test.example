# ========================================
# Test Environment Configuration
# ========================================
# This file contains environment variables for running integration and E2E tests.
# Copy this file to the root directory as .env.test and update with your test database credentials.

# Node Environment
NODE_ENV=test

# API Configuration
PORT=3001

# Test Database Configuration (PostgreSQL + pgvector)
# These should point to a separate test database, NOT your development database
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_USERNAME=context_ai_user
TEST_DB_PASSWORD=context_ai_pass
TEST_DB_DATABASE=context_ai_test
TEST_DB_LOGGING=false

# Alternative: Use the same env vars as development with test database name
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=context_ai_user
DATABASE_PASSWORD=context_ai_pass
DATABASE_NAME=context_ai_test

# AI/Embedding Service Configuration (Google Genkit)
# For unit tests: use a dummy API key since calls are mocked
# For integration tests: use a real API key to test Genkit connectivity
GOOGLE_API_KEY=test-api-key
GENKIT_ENV=test

# Logging
LOG_LEVEL=error

# ========================================
# Docker Compose Test Database
# ========================================
# If using Docker Compose for tests, ensure these match docker-compose.yml
POSTGRES_USER=context_ai_user
POSTGRES_PASSWORD=context_ai_pass
POSTGRES_DB=context_ai_test

# ========================================
# Notes
# ========================================
# 1. NEVER use your production database for tests
# 2. Tests will drop and recreate tables (synchronize: true)
# 3. Integration tests run with --runInBand to avoid conflicts
# 4. External API calls are mocked in unit tests, so GOOGLE_API_KEY can be a dummy value
# 5. Integration tests for Genkit require a real GOOGLE_API_KEY


